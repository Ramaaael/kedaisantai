<link rel="stylesheet" href="CSS/menu.css">

<center><h1 class="head-menu" id="minuman"></h1></center>
<div class="grid">
        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/1.jpg" alt="Espresso" class="menu-card-img"  style="width: 230px;height: 230px; margin-right: 2rem;">
        </center>
        <h4 name="name">Espresso</h4>
                <h4 name="price">Rp 15.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="1" type="submit">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/americano.jpeg" alt="Americano" class="menu-card-img" style="width: 230px;height: 230px; ">
        </center>
        <h4 name="name">Americano</h4>
        <h4 name="price">Rp 16.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="2">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/cappucino.jpeg" alt="Cappucino" class="menu-card-img" style="width: 230px;height: 230px; margin-right: 2rem;">
        </center>
        <h4 name="name">Cappucino</h4>
        <h4 name="price">Rp 18.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="3">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/latte2.jpeg" alt="latte" class="menu-card-img" style="width: 230px;height: 230px;margin-right: 2rem;">
        </center>
        <h4 name="name">Latte</h4>
        <h4 name="price">Rp 19.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="4">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/cold brew.jpeg" alt="ColdBrew" class="menu-card-img" style="width: 230px;height: 230px;margin-right: 2rem;">
        </center>
        <h4 name="name">ColdBrew</h4>
        <h4 name="price">Rp 15.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="5">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/karamel.jpeg" alt="Karamel" class="menu-card-img" style="width: 230px;height: 230px;margin-right: 2rem;">
        </center>
        <h4 name="name">Karamel</h4>
        <h4 name="price">Rp 17.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="6">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/luwak2.jpeg" alt="Luwak" class="menu-card-img" style="width: 230px;height: 230px;margin-right: 2rem;">
        </center>
        <h4 name="name">Luwak</h4>
        <h4 name="price">Rp 14.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="7">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
            <center>
            <img src="img/menu/affogato.jpeg" alt="Affogato" class="menu-card-img" style="width: 230px;height: 230px;margin-right: 2rem;">
            </center>
            <h4 name="name">Affogato</h4>
            <h4 name="price">Rp 20.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="8">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/macchiato.jpeg" alt="Macchiato" class="menu-card-img" style="width: 230px;height: 230px;margin-right: 2rem;">
        </center>
        <h4 name="name">Macchiato</h4>
        <h4 name="price">Rp 20.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="9">Add to Cart</button>
        </form>
<div class="response-container"></div>

</div>

<center><h1 class="head-menu" id="makanan"></h1></center>
<div class="grid">
        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/pancakes.jpg" alt="" class="menu-card-img"  style="width: 230px;height: 230px; margin-right: 2rem;">
        </center>
        <h4 name="name">Pancakes</h4>
                <h4 name="price">Rp 20.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="10">Add to Cart</button>
        </form>
        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/rotbak.jpg" alt="" class="menu-card-img" style="width: 230px;height: 230px; ">
        </center>
        <h4 name="name">Roti Bakar</h4>
        <h4 name="price">Rp 13.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="11">Add to Cart</button>
        </form>
        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/stroop wafel.jpg" alt="" class="menu-card-img" style="width: 230px;height: 230px; margin-right: 2rem;">
        </center>
        <h4 name="name">Stroop Wafel</h4>
        <h4 name="price">Rp 18.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="12">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/pretzels.jpg" alt="" class="menu-card-img" style="width: 230px;height: 230px;margin-right: 2rem;">
        </center>
        <h4 name="name">Pretzels</h4>
        <h4 name="price">Rp 20.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="13">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/bagel sandwhich.jpg" alt="" class="menu-card-img" style="width: 230px;height: 230px;margin-right: 2rem;">
        </center>
        <h4 name="name">Bagel Sandwhich</h4>
        <h4 name="price">Rp 25.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="14">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/donat.jpg" alt="" class="menu-card-img" style="width: 230px;height: 230px;margin-right: 2rem;">
        </center>
        <h4 name="name">Donat</h4>
        <h4 name="price">Rp 15.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="15">Add to Cart</button>
        </form>

        <form action="" method="POST" class="menu-form">
        <center>
        <img src="img/menu/croissant.jpg" alt="" class="menu-card-img" style="width: 230px;height: 230px;margin-right: 2rem;">
        </center>
        <h4 name="name">Croissant</h4>
        <h4 name="price">Rp 17.000</h4>
                <center>
                    <button class="minus" type="button">-</button>
                    <input type="text" name="quantity" id="" value="1" class="count">
                    <button class="plus" type="button">+</button><br>
                </center>
                <button class="add-to-cart" data-item-id="16">Add to Cart</button>
        </form>
<div class="response-container"></div>

</div>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        const plusBtn = document.querySelectorAll(".plus");
        const minusBtn = document.querySelectorAll(".minus");
        const countInput = document.querySelectorAll(".count");

        plusBtn.forEach(button => {
            button.addEventListener("click", function() {
                const input = this.parentElement.querySelector(".count");
                input.value = parseInt(input.value) + 1;
            });
        });

        minusBtn.forEach(button => {
            button.addEventListener("click", function() {
                const input = this.parentElement.querySelector(".count");
                if (parseInt(input.value) > 1) {
                    input.value = parseInt(input.value) - 1;
                }
            });
        });

        const addToCartBtns = document.querySelectorAll(".add-to-cart");
        addToCartBtns.forEach(button => {
            button.addEventListener("click", function(event) {
                event.preventDefault();
                const itemId = this.getAttribute('data-item-id');
                const quantity = parseInt(this.parentElement.querySelector(".count").value);

                fetch('index.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ itemId, quantity })
                })
                .then(response => {
                    if (response.redirected) {
                        window.location.href = response.url;
                    } else {
                        return response.text();
                    }
                })
                .then(data => {
                    const responseContainer = document.querySelector(".response-container");
                    responseContainer.innerHTML = `<p>${data}</p>`;
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            });
        });
    });
</script>